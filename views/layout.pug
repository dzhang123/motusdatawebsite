doctype html
html(lang='en')
  head
    title= title
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    //link(rel="stylesheet", href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha384-FzT3vTVGXqf7wRfy8k4BiyzvbNfeYjK+frTVqZeNDFl8woCbF0CYG6g2fMEFFo/i" crossorigin="anonymous")
    script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js')
    script(src='/javascripts/scripts.js')
    link(rel='stylesheet', href='/stylesheets/style.css')
  body
      header
        h1 Dynacard Analysis
      div
        aside
          div
            form(method='POST', action='/catalog/upload' enctype='multipart/form-data')
              div.form-group
                label(for='upload_files') Upload Card Files:
                input#upload_files.form-control(type='file' multiple name='fileupload')
              button.btn.btn-primary(type='submit') Upload
          div
            form(method='POST', action='/catalog/filter')
              div.form-group
                label(for='filter_results') Enter Search Term:
                input#filter_results.form-control(type='text' placeholder='full pump')
              button.btn.btn-primary(type='submit') Filter Search Results
          div
            form(method='POST' action='/catalog/run')
              //button.btn.btn-primary.disabled(type='submit' id='run-button' display='none') Run Analysis
              button(type='submit' disabled='true' id='run-button') Run Analysis
        main
          block content
      footer
        p what is in the footer
      script.
        $(document).ready(function () {
          var options = {
            beforeSubmit: showRequest, // pre-sumbit callback
            success: showResponse // post-submit callback
          };
          // bind to the form's submit event
          $('#frmUploader').submit(function () {
            $(this).ajaxSubmit(options);
            // aways return false to prevent standard browser submit and page navigation
            return false;
          });
        });
        // pre-submit function callback
        function showRequest(formData, jgForm, options) {
          alert('Uploading is starting.');
          return true;
        }
        // post-submit callback
        function showResponse(responseText, statusText, xhr, $form) {
          //alert('status: ' + statusText + '\n\nresponseText: \n' + responseText);
        }
        function createObjectURL(blob) {
          return URL.createObjectURL(blob);
        }

